<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>batchAddGff.sh ä½¿ç”¨è¯´æ˜</title>
    <style>
        body { font-family: "Segoe UI", Arial, sans-serif; background-color: #f8f9fa; margin: 20px; color: #333; }
        h1, h2, h3 { color: #0056b3; }
        code { background-color: #f1f1f1; padding: 2px 5px; border-radius: 4px; font-family: monospace; }
        pre { background-color: #272822; color: #f8f8f2; padding: 10px; border-radius: 6px; overflow-x: auto; }
        table { border-collapse: collapse; width: 100%; margin: 10px 0; }
        table, th, td { border: 1px solid #ddd; }
        th, td { padding: 8px; text-align: left; }
        th { background-color: #007bff; color: white; }
        .note { background-color: #fff3cd; padding: 10px; border-left: 5px solid #ffc107; }
        .cmd { background-color: #e9ecef; padding: 8px; border-radius: 4px; margin: 5px 0; display: inline-block; }
    </style>
</head>
<body>
    <h1>ğŸ“˜ batchAddGff.sh ä½¿ç”¨è¯´æ˜</h1>

    <h2>ğŸ“ è„šæœ¬åŠŸèƒ½</h2>
    <p>
        <code>batchAddGff.sh</code> ç”¨äºæ‰¹é‡å°† GFF/GFF3 æ³¨é‡Šæ–‡ä»¶æ·»åŠ åˆ° 
        <a href="https://jbrowse.org/" target="_blank">JBrowse</a> æ•°æ®åº“ä¸­ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
    </p>
    <ul>
        <li>è‡ªåŠ¨è§£å‹ã€æ’åºã€å‹ç¼©ï¼ˆbgzipï¼‰GFF æ–‡ä»¶</li>
        <li>è‡ªåŠ¨åˆ›å»º tabix ç´¢å¼•ï¼ˆ.tbiï¼‰</li>
        <li>æ”¯æŒ .gffã€.gff3 åŠå…¶å‹ç¼©æ–‡ä»¶ï¼ˆ.gff.gz, .gff3.gzï¼‰</li>
        <li>ä½¿ç”¨ <b>æœ€é•¿å…¬å…±å­ä¸²</b> åŒ¹é…æœ€åˆé€‚çš„ Assembly åç§°</li>
        <li>é¿å…é‡å¤ç”Ÿæˆå·²å­˜åœ¨çš„å‹ç¼©æ–‡ä»¶å’Œç´¢å¼•</li>
        <li>è‡ªåŠ¨æ£€æŸ¥ JBrowse é…ç½®æ–‡ä»¶é¿å…é‡å¤ Track</li>
        <li>æä¾› <b>Dry-run æ¨¡å¼</b> é¢„è§ˆæ“ä½œï¼Œä¸æ‰§è¡Œä¿®æ”¹</li>
        <li>è¾“å‡ºè¯¦ç»†çš„ <code>summary.csv</code> å¤„ç†ç»“æœ</li>
    </ul>

    <h2>ğŸ“‚ è¾“å…¥æ–‡ä»¶è¦æ±‚</h2>
    <ul>
        <li>ç›®å½•ä¸‹çš„æ–‡ä»¶åéœ€ç¬¦åˆï¼š<code>*.gff</code>ã€<code>*.gff3</code> æˆ– <code>*.gff.gz</code>ã€<code>*.gff3.gz</code></li>
        <li>æ–‡ä»¶åä¸­éœ€åŒ…å«ç‰©ç§ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š
            <code>Euplotes_vannus.MAC.Lyu-unpub.GFF.sort.gff3.gz</code> æˆ– <code>Y52.new.gff3</code>
        </li>
        <li>JBrowse é…ç½®æ–‡ä»¶ä¸­éœ€æœ‰å¯¹åº”çš„ Assembly åç§°ï¼Œè„šæœ¬ä¼šæ ¹æ®æœ€é•¿å…¬å…±å­ä¸²è‡ªåŠ¨åŒ¹é…</li>
    </ul>

    <h2>âš™ï¸ è„šæœ¬å‚æ•°</h2>
    <pre><code>bash batchAddGff.sh &lt;ç›®å½•è·¯å¾„&gt; [é€‰é¡¹]</code></pre>
    <table>
        <tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th></tr>
        <tr><td>&lt;ç›®å½•è·¯å¾„&gt;</td><td>åŒ…å« .gffã€.gff3ã€.gff.gz æˆ– .gff3.gz æ–‡ä»¶çš„ç›®å½•ï¼ˆå¿…å¡«ï¼‰</td><td>-</td></tr>
        <tr><td>--debug</td><td>è°ƒè¯•æ¨¡å¼ï¼Œæ‰“å°è¯¦ç»†æ‰§è¡Œæ­¥éª¤</td><td>å…³é—­</td></tr>
        <tr><td>--force</td><td>å¼ºåˆ¶é‡å»ºä¸­é—´æ–‡ä»¶ï¼Œè¦†ç›–ç°æœ‰ç»“æœ</td><td>å…³é—­</td></tr>
        <tr><td>--dry-run</td><td>åªæ˜¾ç¤ºè®¡åˆ’æ‰§è¡Œçš„æ“ä½œå’ŒåŒ¹é…ç»“æœï¼Œä¸åšå®é™…ä¿®æ”¹</td><td>å…³é—­</td></tr>
        <tr><td>--threshold &lt;N&gt;</td><td>å…¬å…±å­ä¸²åŒ¹é…é˜ˆå€¼ï¼ŒAssembly åŒ¹é…éœ€ â‰¥ N</td><td>10</td></tr>
    </table>

    <h2>ğŸ” åŒ¹é…é€»è¾‘</h2>
    <ul>
        <li>æå–æ–‡ä»¶ååŸºå‡†ç‰©ç§åï¼ˆå»æ‰ <code>.MAC</code>ã€<code>.GFF</code>ã€<code>.gz</code>ï¼‰</li>
        <li>éå† JBrowse é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰ Assembly åç§°</li>
        <li>è®¡ç®—æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦</li>
        <li>é€‰æ‹©å…¬å…±å­ä¸²æœ€é•¿çš„ Assemblyï¼Œé•¿åº¦éœ€ â‰¥ <code>--threshold</code></li>
        <li>è‹¥æ— åŒ¹é…ï¼Œæ–‡ä»¶è·³è¿‡å¤„ç†</li>
    </ul>

    <h2>ğŸ“„ è¾“å‡ºæ–‡ä»¶</h2>
    <ul>
        <li><b>æ—¥å¿—æ–‡ä»¶</b>ï¼š<code>batchAddGff.log</code></li>
        <li><b>ç»“æœæ–‡ä»¶</b>ï¼š<code>summary.csv</code></li>
    </ul>
    <p>summary.csv åŒ…å«åˆ—ï¼š</p>
    <pre><code>æ–‡ä»¶å,Assembly åç§°,çŠ¶æ€,å…¬å…±å­ä¸²é•¿åº¦,é”™è¯¯ä¿¡æ¯</code></pre>
    <p>çŠ¶æ€åŒ…æ‹¬ï¼š</p>
    <ul>
        <li>æˆåŠŸ</li>
        <li>å·²å­˜åœ¨è·³è¿‡</li>
        <li>æœªæ‰¾åˆ° Assembly</li>
        <li>ç´¢å¼•å¤±è´¥</li>
        <li>æ·»åŠ å¤±è´¥</li>
        <li>DRY-RUN</li>
    </ul>

    <h2>ğŸš€ ä½¿ç”¨ç¤ºä¾‹</h2>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff</div><br>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff --debug</div><br>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff --dry-run</div><br>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff --threshold 12</div><br>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff --force</div><br>
    <div class="cmd">bash batchAddGff.sh /bjued/data/gff --debug --dry-run --threshold 12</div>

    <h2>âœ… å¤„ç†æµç¨‹æ¦‚è¿°</h2>
    <ol>
        <li>éå†ç›®å½•ä¸­çš„ GFF æ–‡ä»¶</li>
        <li>ä½¿ç”¨ LCS åŒ¹é…æ‰¾åˆ°æœ€åˆé€‚çš„ Assembly</li>
        <li>è·³è¿‡å·²æœ‰ç»“æœï¼ˆé™¤éä½¿ç”¨ <code>--force</code>ï¼‰</li>
        <li>è§£å‹ â†’ æ’åº â†’ å‹ç¼© â†’ å»ºç«‹ç´¢å¼•</li>
        <li>æ£€æŸ¥é‡å¤ Trackï¼Œè‹¥æ— åˆ™æ·»åŠ åˆ° JBrowse</li>
        <li>è¾“å‡ºæ—¥å¿—å’Œæ±‡æ€»æ–‡ä»¶</li>
    </ol>

    <div class="note">
        ğŸ’¡ æç¤ºï¼šå¯ä½¿ç”¨ <code>--dry-run</code> æ¨¡å¼å…ˆæŸ¥çœ‹åŒ¹é…ç»“æœï¼ˆåŒ…å«å…¬å…±å­ä¸²é•¿åº¦ï¼‰ï¼Œç¡®è®¤æ— è¯¯åå†æ‰§è¡Œæ­£å¼å¤„ç†ã€‚
    </div>
</body>
</html>
